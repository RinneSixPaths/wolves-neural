<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Wolves</title>
	<script src="src/synaptic.js"></script>
	<style>
		body {
			background-color:rgb(248, 246, 227);
		}
	</style>
</head>
<body>
	<script src="src/wolf.js"></script>
	<img src="./wolf.png" width="200px" height="200px" alt=""><br>
	Add an animal
	<input type="text" id="animal-type"><br>
	carnivores <input type="range" id="carnivores" min="0" max="1" step="0.01" value="0.5" oninput="showVal()"><span id="carnivores-val"></span> <br>
	scale <input type="range" id="scale" min="0" max="1" step="0.01" value="0.5" oninput="showVal()"><span id="scale-val"></span> <br>
	toxicity <input type="range" id="toxicity" min="0" max="1" step="0.01" value="0.5" oninput="showVal()"><span id="toxicity-val"></span> <br>
	predisposition <input type="range" id="predisposition" min="0" max="1" step="0.01" value="0.5" oninput="showVal()"><span id="predisposition-val"></span><br>
	<button onclick="feedWolf()">Feed!</button>
	<script>
		function showVal() {
			document.getElementById("carnivores-val").innerHTML = document.getElementById("carnivores").value;
			document.getElementById("scale-val").innerHTML = document.getElementById("scale").value;
			document.getElementById("toxicity-val").innerHTML = document.getElementById("toxicity").value;
			document.getElementById("predisposition-val").innerHTML = document.getElementById("predisposition").value;
		}

		function feedWolf() {
			const type = document.getElementById("animal-type").value;
			if (!type) return;
			const carnivores = document.getElementById("carnivores").value;
			const scale = document.getElementById("scale").value;
			const toxicity = document.getElementById("toxicity").value;
			const predisposition = document.getElementById("predisposition").value;
			var newVictim = new Victim(type, carnivores, scale, toxicity, predisposition);
			const decision = breedyEater.activate([
				newVictim.carnivores,
				newVictim.scale,
				newVictim.toxicity,
				newVictim.predisposition,
				breedyEater.scale,
				breedyEater.starvation
			]);
			console.log(decision);
			if (Math.round(decision[0])) {
				alert(breedyEater.name + ' would eat ' + newVictim.animal);
				eating();
			} else {
				alert(breedyEater.name + ' would NOT eat ' + newVictim.animal);
			}
		}

		function eating() {
			const music = new Audio();
			music.autoplay = false;
			music.src = './eating.mp3';
        	music.play();
		}

		showVal();
	</script>
</body>
</html>